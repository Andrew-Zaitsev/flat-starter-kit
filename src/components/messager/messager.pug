//-
  options.user - объект с данными пользователя идентичный передаваемому в User-profile
  options.messages - массив сообщений.
  options.messages[0].isIncoming - флаг входящего сообщения
  options.messages[0].text - тест сообщения

include ../user-profile/user-profile
include ../button/button

mixin messager(options)
  if !options
    - options = {}
  if !options.user
    - options.user = {}
  if !options.messages
    - options.messages = []

  .messager.js-messager
    .messager__user
      .messager__user-name #{options.user.name}
      .messager__user-profile
        +user-profile(options.user)
    .messager__body
      .messager__links
        a(
          href = '/mock-address/change-me'
          target = '_blank'
          rel = 'noopener noreferrer'
        ).messager__link
          include ./img/message.svg
        a(
          href = '/mock-address/change-me'
          target = '_blank'
          rel = 'noopener noreferrer'
        ).messager__link
          include ./img/photo-camera.svg
      .messager__chat-wrapper
        .messager__chat-scroller.js-messager__chat-scroller
          .messager__chat.js-messager__chat
            for message in options.messages
              .messager__message(class = message.isIncoming ? 'messager__message_in' : 'messager__message_out')
                span #{message.text}
      textarea.messager__input.js-messager__input
      .messager__btn-submit.js-messager__btn-submit
        +button({text: "reply"})